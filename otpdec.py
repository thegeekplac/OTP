######################################################################################################################################################################################################################
#text = decrypted text
######################################################################################################################################################################################################################
import time
import string
######################################################################################################################################################################################################################
#create dictionaries with english alphabet keys and numerical values
alphabetneg = {'a': -25, 'b': -24, 'c': -23, 'd': -22, 'e': -21, 'f': -20
            , 'g': -19, 'h': -18, 'i': -17, 'j': -16, 'k': -15, 'l': -14
            , 'm': -13, 'n': -12, 'o': -11, 'p': -10, 'q': -9, 'r': -8
            , 's': -7, 't': -6, 'u': -5, 'v': -4, 'w': -3, 'x': -2, 'y': -1
            , 'z': 0, ' ': ' '}

alphabet = dict(zip(string.ascii_lowercase, range(1, 27)))
alphabet[" "] = " "
######################################################################################################################################################################################################################
#input text and key
text = input("enter text")
key = input("enter key")
######################################################################################################################################################################################################################
#convert key to a list
key = list(key)
number = 0
for letter in key:#convert the key list to numbers
    key[number] = alphabet[key[number]]
    number = number + 1
######################################################################################################################################################################################################################
text = list(text)#convert text to list
number = 0
for letter in text:#convert text list to numbers
    text[number] = alphabet[text[number]]
    number = number + 1
######################################################################################################################################################################################################################
#check if the lenght of the key is as long as the len of the text
if len(key) < len(text):#if the len of the key is shorter than the len of the text
    number = 0
    keychain = len(key)
    for x in range(len(text)):#repeat key until its as long an the text 'key="py" text="hello" (output will be:"pypy")'
        key.append(key[number])
        number = number + 1
        if number == keychain:
            number = 0
######################################################################################################################################################################################################################
out = []
for x in range(len(text)):#decryption process[subtract the key from the text (unless the the key is " " in that case it'll just add a space to the output)]
    if text[x]==" " or text[x]=="." or text[x]==",":
        o=" "
    else:
        o = int(text[x]) - int(key[x])
        

    out.append(o)#output
######################################################################################################################################################################################################################
output = ""
for x in range(len(out)):
    def getKey(dict, value):#define find key by value 
        return [key for key in dict.keys() if (dict[key] == value)]
    if out[x]==" ":# if letter==" " add " "
        output+=" "
    elif int(out[x])<=0 :#if number is negative or zero use negative dictionary
        output += ''.join(getKey(alphabetneg, out[x]))
    else:#if number is positive use positive dictionary
        output += ''.join(getKey(alphabet, out[x]))
print(output)
######################################################################################################################################################################################################################
while True:
    time.sleep(5)
######################################################################################################################################################################################################################
#end 
#Code by Noam Ben Or
######################################################################################################################################################################################################################
